from blueshift.api import symbol, order, date_rules, time_rules, get_datetime, schedule_function, order_value

def initialize(context):
    context.asset1 = symbol("ITC")
    context.asset2 = symbol("TCS")
    context.freq = 60

    schedule_function(trade, date_rules.every_day(), time_rules.every_nth_minute(context.freq))


def trade(context, data):
    px = data.current([context.asset1, context.asset2], ['close', 'volume'])
    order_id = order_value(context.asset1, 467.00)

    if order_id:
        print(get_datetime())
        price = px.close[context.asset1]
        volume = px.volume[context.asset1]
        print(f"price:{price}")
        print(f"volume:{volume}")
